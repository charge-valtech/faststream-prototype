---
pageTitle: Order your scheme preferences
---
<div class="grid-wrapper">
  <div class="grid grid-2-3">
    <h1 class="heading-xlarge" id="choosePrefLocFramHeading">{{ pageTitle }}</h1>
  </div>
  <div class="grid grid-1-3">
  </div>
</div>
<section class="text">
  <p>Your application will be considered for each of your chosen schemes, in order of preference.</p>
  <p>You can change the scheme preference order here. If you need to change your chosen schemes, you can <a class="inl-block" href="scheme-selection-start.html">&laquo; return to scheme selection</a>.</p>
  <ol id="selectedSchemesList" class="list-text list-number-text">

  </ol>
</section>

<h2 class="heading-medium">Eligibility</h2>

<div class="text panel-indent">
  <p>Before you apply, make sure you're <a href="https://www.gov.uk/guidance/civil-service-fast-stream-graduate-schemes" target="_blank" rel="external">eligible</a> for the scheme(s) that you've selected.</p>
</div>

<div class="form-group">
  <label for="accept-eligible" class="block-label">
    <input type="checkbox" id="accept-eligible"> I confirm that I'm eligible to apply
  </label>
</div>


<a href="assistance.html" class="button" id="saveSchemePrefBtn">Save and continue</a>
<script src="{{assets}}/js/vendor/jquery-ui-custom.js"></script>
<script>
  $(function() {
    $('#selectedSchemesList').sortable({
      placeholder: "sortable-placeholder",
      revert: true,
      start: function(e, ui ){
        ui.placeholder.height(ui.helper.outerHeight());
     }
    });

    var selectedSchemes = $.jStorage.get('schemesSelected');

    $.each(selectedSchemes, function(key,value) {
      var thisText = value,
          thisID = $(this).attr('id'),
          moveUp = '<a href="#" class="move-up"><span class="visuallyhidden">Move up</span><i class="fa fa-chevron-up"></i></a>',
          moveDown = '<a href="#" class="move-down"><span class="visuallyhidden">Move down</span><i class="fa fa-chevron-down"></i></a>';

      $('#selectedSchemesList').append('<li class="item-withcontrols"><i class="fa fa-bars drag-control" aria-hidden="true"></i><h3 class=""><span class="bold-small number-text small-right-margin"> -</span><a href="#" class="font-xsmall deleteItem">Delete</a></h3><span data-schemename>' + thisText + '</span><span class="item-controls ta-right">' + moveUp + moveDown + '</span></li>');
    });

    $('#selectedSchemesList').on('click', 'li:first-child .move-up, li:last-child .move-down', function(e) {
      e.preventDefault();
    });

    $('#selectedSchemesList').on( 'keydown', '.move-up', function(e) {
      var thisControl = $(this).closest('li').find('.move-up');
      if(e.which == 13) {
        setTimeout(function() {
          thisControl.focus();
        }, 450);
      }
    });

    $('#selectedSchemesList').on( 'keydown', '.move-down', function(e) {
      var thisControl = $(this).closest('li').find('.move-down');
      if(e.which == 13) {
        setTimeout(function() {
          thisControl.focus();
        }, 450);
      }
    });

    $('#selectedSchemesList').on( 'click', '.deleteItem', function(e) {
      var thisControl = $(this).closest('li').remove();

      e.preventDefault();
    });


    $('#selectedSchemesList').on('click', 'li:nth-child(n+2) .move-up', function(e) {
      var thisRow = $(this).closest('li'),
          thisHeightVal = thisRow.outerHeight(),
          thisHeight = thisHeightVal+10 + 'px',
          doubleHeight = thisHeightVal*2+20 + 'px',
          rowAbove = thisRow.prev(),
          rowsBelow = thisRow.nextAll();

      e.preventDefault();

      rowAbove.after('<li class="sortable-placeholder" style="height:' + thisHeightVal + 'px;"></li>');

      $('#selectedSchemesList').css('margin-bottom', '-' + thisHeight);
      thisRow.css('top', '-' + thisHeight);
      rowsBelow.css('top', '-' + thisHeight);

      thisRow.addClass('ui-sortable-helper').animate({
        "top": '-' + doubleHeight
      }, 400, "easeInOutQuad", function(){
        thisRow.removeClass('ui-sortable-helper').removeAttr('style');
        rowAbove.before($('#selectedSchemesList .sortable-placeholder'));
        $('#selectedSchemesList .sortable-placeholder').replaceWith(thisRow);
        rowsBelow.removeAttr('style');
        $('#selectedSchemesList').removeAttr('style');
      });

    });

    $('#selectedSchemesList').on('click', 'li:nth-last-child(n+2) .move-down', function(e) {
      var thisRow = $(this).closest('li'),
          thisHeightVal = thisRow.outerHeight(),
          thisHeight = thisHeightVal+10 + 'px',
          doubleHeight = thisHeightVal*2+20 + 'px',
          rowBelow = thisRow.next(),
          rowsAbove = thisRow.prevAll();

      e.preventDefault();

      rowBelow.before('<li class="sortable-placeholder" style="height:' + thisHeightVal + 'px;"></li>');

      $('#selectedSchemesList').css('margin-top', '-' + thisHeight);
      thisRow.css({
        'bottom': '-' + thisHeight,
        'z-index': 1000
      });
      rowsAbove.css('bottom', '-' + thisHeight);

      thisRow.addClass('ui-sortable-helper').animate({
        "bottom": '-' + doubleHeight
      }, 400, "easeInOutQuad", function(){
        thisRow.removeClass('ui-sortable-helper').removeAttr('style');
        rowBelow.after($('#selectedSchemesList .sortable-placeholder'));
        $('#selectedSchemesList .sortable-placeholder').replaceWith(thisRow);
        rowsAbove.removeAttr('style');
        $('#selectedSchemesList').removeAttr('style');
      });

    });
  });
</script>